import{a as x,b as j,u as B,c as r,i as l,S as v,d as F,t as g,p as w,E as $,e as K,f as Y}from"./index-pv8TXPai.js";import{M as D}from"./main.layout-CBbFEHOj.js";import{c as H,a as s,T as m,b as f,S as I}from"./auth.layout-CbgWAGRh.js";import{S as M,f as a,C as V}from"./safe.form-C_zh8uXY.js";var O=g("<span>Kirim"),P=g('<span class="loading loading-dots loading-lg">'),A=g('<div class="w-full h-screen xl:h-auto xl:w-[30%] 2xl:w-[25%] 3xl:w-[20%] px-4 xl:px-4 2xl:px-5 xl:py-2 overflow-clip"><div class="flex flex-col gap-4"><div class="card shadow-2xl"><div class=card-body><h2 class=card-title>Hubungi Kami</h2><div class="divider divider-lg"></div><form class="form-control flex flex-col items-stretch gap-3"><label class="input input-bordered min-w-full flex items-center gap-2"></label><label class="input input-bordered min-w-full flex items-center gap-2"></label><label class=input-bordered></label><div class="flex items-center justify-between"></div><div class="divider text-sm"></div><div class="flex justify-center"><button type=submit class="btn btn-block btn-primary w-[75%]">');function z(){const[S,_]=x(!1),[n,p]=x(!1),e=H({safe_form:s(!1),name:s("",{required:!0,validators:[a.required,a.minLength,a.maxLength]}),email:s("",{required:!0,validators:[a.required,a.email,a.maxLength]}),message:s("",{required:!0,validators:[a.required,a.minLength]})}),y=()=>{if(e.isSubmitted){w("System","Formulir sudah dikirimkan",$.ERROR);return}if(!e.isValid){w("System","Silahkan isi semua formulir",$.ERROR);return}if(V.validateToken())e.controls.safe_form.setErrors(null);else{e.controls.safe_form.setErrors({invalid:"csrf token tidak valid"});return}e.markSubmitted(!0),p(!0),C()},C=async()=>{const t={to:"Apri Pandu Wicaksono (sarahpalastrin@gmail.com)",subject:"Contact Us",body:`Hi, I'm ${e.controls.name.value} (${e.controls.email.value}),
        I want to say ${e.controls.message.value}.
        Best Regards, ${e.controls.name.value}
      `};window.location.href=`mailto:${t.to}?subject=${t.subject}&body=${t.body}`,_(!0),p(!1),e.markSubmitted(!1)};return j(()=>{window.location.search&&window.history.replaceState({},document.title,window.location.pathname)}),B(t=>{e.isDirty&&!t.defaultPrevented&&!e.controls.safe_form.errors&&!S()&&(t.preventDefault(),setTimeout(()=>{K.fire({title:"Konfirmasi",icon:"question",showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Tidak",html:I()}).then(d=>{d.isConfirmed&&t.retry(!0)})},100))}),r(M,{get regenerate(){return!!e.controls.safe_form.errors},get children(){return r(D,{title:"Hubungi Kami",get disabled(){return n()},get children(){var t=A(),d=t.firstChild,k=d.firstChild,E=k.firstChild,R=E.firstChild,T=R.nextSibling,i=T.nextSibling,b=i.firstChild,c=b.nextSibling,u=c.nextSibling,h=u.nextSibling,q=h.nextSibling,L=q.nextSibling,o=L.firstChild;return l(b,r(m,{type:"text",name:"name",get disabled(){return n()},placeholder:"Your Name",get control(){return e.controls.name},class:"grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0"})),l(i,r(f,{name:"name",get control(){return e.controls.name}}),c),l(c,r(m,{type:"email",name:"email",get disabled(){return n()},placeholder:"Your Email",get control(){return e.controls.email},class:"grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0"})),l(i,r(f,{name:"email",get control(){return e.controls.email}}),u),l(u,r(m,{type:"textarea",name:"message",get disabled(){return n()},placeholder:"Your Message",get control(){return e.controls.message},class:"grow input input-bordered h-auto pl-1 pr-0"})),l(i,r(f,{name:"message",get control(){return e.controls.message}}),h),o.$$click=y,l(o,r(v,{get when(){return!n()},get children(){return O()}}),null),l(o,r(v,{get when(){return n()},get children(){return P()}}),null),F(()=>o.disabled=n()),t}})}})}Y(["click"]);export{z as default};
