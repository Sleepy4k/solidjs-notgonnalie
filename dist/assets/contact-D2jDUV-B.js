import{a as q,b as L,c as t,i as r,S as h,d as j,t as f,p as x,E as v,e as F}from"./index-P96H_6a0.js";import{M as T}from"./main.layout-XTLuNsVu.js";import{c as I,a as s,T as u,b as m}from"./auth.layout-GjYW0eN-.js";import{S as M,f as l,C as U}from"./safe.form-n8FTov3P.js";var V=f("<span>Kirim"),Y=f('<span class="loading loading-dots loading-lg">'),O=f('<div class="w-[85%] h-full px-4 xl:px-4 2xl:px-5 xl:py-2 overflow-clip"><div class="flex flex-col gap-4"><div class="card shadow-2xl"><div class=card-body><h2 class=card-title>Contact Us</h2><div class="divider divider-lg"></div><form class="form-control flex flex-col items-stretch gap-3"><label class="input input-bordered min-w-full flex items-center gap-2"></label><label class="input input-bordered min-w-full flex items-center gap-2"></label><label class=input-bordered></label><div class="flex items-center justify-between"></div><div class="divider text-sm"></div><div class="flex justify-center"><button type=submit class="btn btn-block btn-primary w-[75%]">');function H(){const[a,g]=q(!1),e=I({safe_form:s(!1),name:s("",{required:!0,validators:[l.required,l.minLength,l.maxLength]}),email:s("",{required:!0,validators:[l.required,l.email,l.maxLength]}),message:s("",{required:!0,validators:[l.required,l.minLength]})}),$=()=>{if(e.isSubmitted){x("System","Formulir sudah dikirimkan",v.ERROR);return}if(!e.isValid){x("System","Silahkan isi semua formulir",v.ERROR);return}if(U.validateToken())e.controls.safe_form.setErrors(null);else{e.controls.safe_form.setErrors({invalid:"csrf token tidak valid"});return}e.markSubmitted(!0),g(!0),w()},w=async()=>{const n={to:"Apri Pandu Wicaksono (sarahpalastrin@gmail.com)",subject:"Contact Us",body:`Hi, I'm ${e.controls.name.value} (${e.controls.email.value}),
        I want to say ${e.controls.message.value}.
        Best Regards, ${e.controls.name.value}
      `};window.location.href=`mailto:${n.to}?subject=${n.subject}&body=${n.body}`,g(!1)};return L(()=>{window.location.search&&window.history.replaceState({},document.title,window.location.pathname)}),t(M,{get regenerate(){return!!e.controls.safe_form.errors},get children(){return t(T,{title:"Contact Us",get disabled(){return a()},get children(){var n=O(),S=n.firstChild,_=S.firstChild,y=_.firstChild,C=y.firstChild,k=C.nextSibling,o=k.nextSibling,p=o.firstChild,d=p.nextSibling,c=d.nextSibling,b=c.nextSibling,E=b.nextSibling,R=E.nextSibling,i=R.firstChild;return r(p,t(u,{type:"text",name:"name",get disabled(){return a()},placeholder:"Your Name",get control(){return e.controls.name},class:"grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0"})),r(o,t(m,{name:"name",get control(){return e.controls.name}}),d),r(d,t(u,{type:"email",name:"email",get disabled(){return a()},placeholder:"Your Email",get control(){return e.controls.email},class:"grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0"})),r(o,t(m,{name:"email",get control(){return e.controls.email}}),c),r(c,t(u,{type:"textarea",name:"message",get disabled(){return a()},placeholder:"Your Message",get control(){return e.controls.message},class:"grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0"})),r(o,t(m,{name:"message",get control(){return e.controls.message}}),b),i.$$click=$,r(i,t(h,{get when(){return!a()},get children(){return V()}}),null),r(i,t(h,{get when(){return a()},get children(){return Y()}}),null),j(()=>i.disabled=a()),n}})}})}F(["click"]);export{H as default};
